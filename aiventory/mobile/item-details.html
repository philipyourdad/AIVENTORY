<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#2E3A8C">
    <title>AIVENTORY Mobile - Item Details</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        .product-header {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 15px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            margin-bottom: 15px;
        }
        
        .product-image {
            width: 80px;
            height: 80px;
            background: #f0f0f0;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 10px;
        }
        
        .product-name {
            font-size: 1.2rem;
            font-weight: 500;
            margin-bottom: 5px;
            text-align: center;
        }
        
        .product-sku {
            font-size: 0.8rem;
            color: var(--gray);
            margin-bottom: 10px;
        }
        
        .detail-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 10px;
        }
        
        .detail-item {
            background: #f8f9fa;
            padding: 10px;
            border-radius: 5px;
        }
        
        .detail-label {
            font-size: 0.7rem;
            color: var(--gray);
            margin-bottom: 3px;
        }
        
        .detail-value {
            font-weight: 500;
            font-size: 0.9rem;
        }
        
        .prediction-section {
            margin-top: 15px;
            padding: 15px;
            background: rgba(255, 107, 107, 0.05);
            border-radius: 8px;
            border-left: 4px solid var(--danger);
        }
        
        .action-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 15px;
        }
        
        .action-btn {
            padding: 10px;
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 500;
            font-size: 0.9rem;
        }
        
        .primary-btn {
            background: var(--primary);
            color: white;
            border: none;
        }
        
        .secondary-btn {
            background: white;
            color: var(--primary);
            border: 1px solid var(--primary);
        }
        
        .material-icons.md-18 {
            font-size: 18px;
            margin-right: 5px;
        }
        
        .full-width-btn {
            margin-top: 15px;
            width: 100%;
            padding: 12px;
            background: transparent;
            border: 1px dashed var(--primary);
            color: var(--primary);
            border-radius: 5px;
            font-weight: 500;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="app-container">
        <div class="app-header">
            <button class="back-button" onclick="history.back()">
                <span class="material-icons">arrow_back</span>
            </button>
            <div class="header-title">Item Details</div>
            <button class="menu-button">
                <span class="material-icons">more_vert</span>
            </button>
        </div>
        
        <div class="content-area">
            <!-- Product Header -->
            <div class="product-header">
                <div class="product-image">
                    <span class="material-icons" style="font-size: 36px; color: var(--primary);">battery_charging_full</span>
                </div>
                <h1 class="product-name">Motorcycle Batteries</h1>
                <div class="product-sku">SKU: BAT-YTX-001</div>
                <span class="status-badge at-risk">At Risk</span>
            </div>
            
            <!-- Product Details -->
            <div class="card">
                <div class="card-header">Stock Information</div>
                
                <div class="detail-grid">
                    <div class="detail-item">
                        <div class="detail-label">Current Stock</div>
                        <div class="detail-value">45 units</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">Reorder Threshold</div>
                        <div class="detail-value">50 units</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">Last Ordered</div>
                        <div class="detail-value">Mar 15, 2025</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">Location</div>
                        <div class="detail-value">Aisle B, Shelf 3</div>
                    </div>
                </div>
            </div>
            
            <!-- Supplier Info -->
            <div class="card">
                <div class="card-header">Supplier</div>
                
                <div class="list-item">
                    <div class="item-content">
                        <div class="item-title">MotoMax Performance</div>
                        <div class="item-desc">Lead time: 3-5 days</div>
                    </div>
                </div>
            </div>
            
            <!-- AI Prediction -->
            <div class="card">
                <div class="card-header">AI Prediction</div>
                
                <div class="chart-container">
                    <canvas id="stockChart"></canvas>
                </div>
                
                <div class="prediction-section">
                    <strong>Stock Alert:</strong> Current stock is predicted to run out in <strong>7 days</strong> based on historical sales data.
                </div>
                
                <div class="action-buttons">
                    <button class="action-btn primary-btn">
                        <span class="material-icons md-18">add_shopping_cart</span>
                        Reorder
                    </button>
                    <button class="action-btn secondary-btn">
                        <span class="material-icons md-18">edit</span>
                        Edit
                    </button>
                </div>
                
                <button class="full-width-btn" id="view-analytics-btn">
                    <span class="material-icons md-18">analytics</span>
                    View Full Analytics
                </button>
            </div>
            
            <!-- Transaction History -->
            <div class="card">
                <div class="card-header">Recent Transactions</div>
                
                <div class="list-item">
                    <div class="item-content">
                        <div class="item-title">Stock Out • 5 units</div>
                        <div class="item-desc">May 13, 2025 • INV-0562</div>
                    </div>
                </div>
                
                <div class="list-item">
                    <div class="item-content">
                        <div class="item-title">Stock Out • 8 units</div>
                        <div class="item-desc">May 12, 2025 • INV-0555</div>
                    </div>
                </div>
                
                <div class="list-item">
                    <div class="item-content">
                        <div class="item-title">Stock In • 25 units</div>
                        <div class="item-desc">May 7, 2025 • PO-1238</div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Bottom Navigation -->
        <div class="bottom-nav">
            <a href="dashboard.html" class="nav-item">
                <span class="material-icons nav-icon">dashboard</span>
                <span>Dashboard</span>
            </a>
            <a href="inventory.html" class="nav-item active">
                <span class="material-icons nav-icon">inventory</span>
                <span>Inventory</span>
            </a>
            <a href="reports.html" class="nav-item">
                <span class="material-icons nav-icon">assessment</span>
                <span>Reports</span>
            </a>
            <a href="settings.html" class="nav-item">
                <span class="material-icons nav-icon">settings</span>
                <span>Settings</span>
            </a>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        // Stock chart
        const stockCtx = document.getElementById('stockChart');
        
        if (stockCtx) {
            new Chart(stockCtx, {
                type: 'line',
                data: {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                    datasets: [{
                        label: 'Stock Level',
                        data: [120, 110, 90, 75, 60, 45],
                        borderColor: '#2E3A8C',
                        backgroundColor: 'rgba(46, 58, 140, 0.1)',
                        tension: 0.4,
                        fill: true
                    }, {
                        label: 'Prediction',
                        data: [null, null, null, null, 45, 30, 15, 0],
                        borderColor: '#FF6B6B',
                        backgroundColor: 'rgba(255, 107, 107, 0.1)',
                        borderDash: [5, 5],
                        tension: 0.4,
                        fill: true
                    }, {
                        label: 'Threshold',
                        data: [50, 50, 50, 50, 50, 50],
                        borderColor: '#06D6A0',
                        backgroundColor: 'transparent',
                        borderDash: [3, 3],
                        tension: 0,
                        fill: false
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            display: true,
                            grid: {
                                display: false
                            }
                        },
                        x: {
                            grid: {
                                display: false
                            }
                        }
                    }
                }
            });
        }
        
        // Load item details based on URL parameter
        const loadItemDetails = () => {
            const urlParams = new URLSearchParams(window.location.search);
            const itemId = urlParams.get('id');
            
            // In a real app, you would fetch the item details from API
            console.log(`Loading details for item ID: ${itemId}`);
            
            // This would be replaced with actual API data
            const items = [
                { id: 1, name: 'Motorcycle Batteries', sku: 'BAT-YTX-001', stock: 45, threshold: 50, status: 'At Risk', icon: 'battery_charging_full' },
                { id: 2, name: 'Engine Oil (10W-40)', sku: 'OIL-10W40-002', stock: 32, threshold: 30, status: 'Warning', icon: 'opacity' },
                { id: 3, name: 'Drive Chains', sku: 'CHN-520-003', stock: 120, threshold: 50, status: 'Good', icon: 'link' },
                { id: 4, name: 'Brake Pads', sku: 'BRK-PAD-004', stock: 15, threshold: 20, status: 'At Risk', icon: 'pan_tool' },
                { id: 5, name: 'Motorcycle Spark Plugs', sku: 'SPK-NGK-005', stock: 65, threshold: 40, status: 'Good', icon: 'bolt' }
            ];
            
            // Find the item
            const item = items.find(i => i.id === parseInt(itemId)) || items[0];
            
            // Update the UI
            document.querySelector('.product-name').textContent = item.name;
            document.querySelector('.product-sku').textContent = `SKU: ${item.sku}`;
            document.querySelector('.status-badge').textContent = item.status;
            document.querySelector('.status-badge').className = `status-badge ${item.status.toLowerCase().replace(' ', '-')}`;
            document.querySelector('.product-image .material-icons').textContent = item.icon;
            document.querySelector('.detail-grid .detail-item:nth-child(1) .detail-value').textContent = `${item.stock} units`;
            document.querySelector('.detail-grid .detail-item:nth-child(2) .detail-value').textContent = `${item.threshold} units`;
            
            // Set up analytics button
            const analyticsBtn = document.getElementById('view-analytics-btn');
            if (analyticsBtn) {
                analyticsBtn.addEventListener('click', function() {
                    window.location.href = `item-detail-analytics.html?id=${itemId || 1}`;
                });
            }
        };
        
        // Call on page load
        document.addEventListener('DOMContentLoaded', loadItemDetails);
    </script>
</body>
</html> 